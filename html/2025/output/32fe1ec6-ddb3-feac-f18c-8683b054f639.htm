<html><head><title>RebarConstraintsManager Class</title><meta name="Title" content="RebarConstraintsManager Class" /><meta name="Microsoft.Help.Id" content="T:Autodesk.Revit.DB.Structure.RebarConstraintsManager" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="System.Keywords" content="Autodesk.Revit.DB.Structure.RebarConstraintsManager class" /><meta name="System.Keywords" content="RebarConstraintsManager class" /><meta name="Microsoft.Help.F1" content="Autodesk.Revit.DB.Structure.RebarConstraintsManager" /><meta name="Microsoft.Help.F1" content="RebarConstraintsManager" /><meta name="container" content="Autodesk.Revit.DB.Structure" /><meta name="file" content="32fe1ec6-ddb3-feac-f18c-8683b054f639" /><meta name="guid" content="32fe1ec6-ddb3-feac-f18c-8683b054f639" /><meta name="Description" content="A class used to obtain information about the constraints (RebarConstraint) acting on the shape handles (RebarConstrainedHandle) of a Rebar element, and modify the constraints." /></head><body onload="SetDefaultLanguage('cs');"><div class="pageBody"><div id="TopicContent" class="topicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Rebar<wbr />Constraints<wbr />Manager Class</h1></td></tr></table><div class="summary">
   A class used to obtain information about the constraints (RebarConstraint) acting
   on the shape handles (RebarConstrainedHandle) of a Rebar element, and modify the constraints.
</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDDA')" onkeypress="SectionExpandCollapse_CheckKey('IDDA', event)" tabindex="0"><img id="IDDAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="IDDASection" class="collapsibleSection"><a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LSTC1ABCE5_0" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>Object</a><br />  <span class="selflink">Autodesk.Revit.DB.Structure<span id="LSTC1ABCE5_1" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>RebarConstraintsManager</span><br /></div><br /><strong>Namespace:</strong> <a href="d586b341-f687-9d90-e96d-255806b7d4fc.htm">Autodesk.Revit.DB.Structure</a><br /><strong>Assembly:</strong> RevitAPI (in RevitAPI.dll) Version: 25.0.0.0 (25.0.0.0)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDB')" onkeypress="SectionExpandCollapse_CheckKey('IDB', event)" tabindex="0"><img id="IDBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="IDBSection" class="collapsibleSection"><div id="IDAB" class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="IDAB_tab1" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','cs','1','4');return false;">C#</a></div><div id="IDAB_tab2" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','vb','2','4');return false;">VB</a></div><div id="IDAB_tab3" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','cpp','3','4');return false;">C++</a></div><div id="IDAB_tab4" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="IDAB_copyCode" href="#" class="copyCodeSnippet" onclick="CopyToClipboard('IDAB');return false;" title="Copy">Copy</a></div></div><div id="IDAB_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">RebarConstraintsManager</span> : <span class="identifier">IDisposable</span></pre></div><div id="IDAB_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">RebarConstraintsManager</span>
	<span class="keyword">Implements</span> <span class="identifier">IDisposable</span></pre></div><div id="IDAB_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">RebarConstraintsManager</span> : <span class="identifier">IDisposable</span></pre></div><div id="IDAB_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">type</span> <span class="identifier">RebarConstraintsManager</span> = 
    <span class="keyword">class</span>
        <span class="keyword">interface</span> <span class="identifier">IDisposable</span>
    <span class="keyword">end</span></pre></div></div></div></div><p>The <span class="selflink">RebarConstraintsManager</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDTFA')" onkeypress="SectionExpandCollapse_CheckKey('IDTFA', event)" tabindex="0"><img id="IDTFAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="IDTFASection" class="collapsibleSection"><table id="PropertyList" class="members"><tr><th class="iconColumn"> </th><th>Name</th><th>Description</th></tr><tr><td><img src="../icons/pubProperty.gif" alt="Public property" title="Public property" /><img src="../icons/Static.gif" alt="Static member" title="Static member" /></td><td><a href="57d251df-b6a9-6b12-a3c2-22be9245c205.htm">IsRebarConstrainedPlacementEnabled</a></td><td>
   A static property defining if the 'Rebar Constrained Placement' setting is on or off in current Revit Application Session.
</td></tr><tr><td><img src="../icons/pubProperty.gif" alt="Public property" title="Public property" /></td><td><a href="8a9d9f87-6f3f-40c9-578b-a2a5b6cb7311.htm">IsValidObject</a></td><td>
   Specifies whether the .NET object represents a valid Revit entity.
</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDAFA')" onkeypress="SectionExpandCollapse_CheckKey('IDAFA', event)" tabindex="0"><img id="IDAFAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="IDAFASection" class="collapsibleSection"><table id="MethodList" class="members"><tr><th class="iconColumn"> </th><th>Name</th><th>Description</th></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="1bfc99e7-7932-5a57-1f11-1d40ed940405.htm">AllowConstraintTargets</a></td><td>
   Returns true if references are valid targets for handle, false otherwise.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="ea70f469-13c9-8fea-a2f1-34796dc2c416.htm">ApplyRebarConstraints</a></td><td>
   Returns true if constraints were applied to rebar with success.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="5a96c36b-097c-0f79-1919-595c1aa7a351.htm">ClearHandleConstraintPairHighlighting</a></td><td>
   Clears all highlighting in all views.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="ed88eaca-9e47-38a8-4515-b130810de0df.htm">Dispose</a></td><td>Releases all resources used by the <span class="selflink">RebarConstraintsManager</span></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)" target="_blank" rel="noopener noreferrer">Equals</a></td><td>Determines whether the specified object is equal to the current object.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="d87a1741-7965-413d-3c44-666516fd31aa.htm">GetAllConstrainedHandles</a></td><td>
   Retrieves all handles on the Rebar that are constrained to external references.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="1a8dbc43-88f6-8087-1607-7b01d61f4560.htm">GetAllHandles</a></td><td>
   Gets all RebarConstrainedHandles of this bar.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="5931ac8a-f3bd-ef34-970e-4327c3ce640e.htm">GetConstraintCandidatesForHandle(RebarConstrainedHandle)</a></td><td><strong>Obsolete.</strong><br /><p>For shape driven rebar returns all possible automatic RebarConstraints that could be used for a specified RebarConstrainedHandle.</p><p>For free form rebar will return an empty list.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="7fb6f4f8-a01f-b6c5-e553-08197ef55db6.htm">GetConstraintCandidatesForHandle(RebarConstrainedHandle, ElementId)</a></td><td><p>For shape driven rebar returns all possible RebarConstraints belonging to references from the provided element that could be used for a specified RebarConstrainedHandle.</p><p>For free form rebar will return an empty list.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="0639839a-a7a6-064d-5797-9ed609033b53.htm">GetConstraintCandidatesForHandle(RebarConstrainedHandle, Reference)</a></td><td><p>For shape driven rebar returns all possible RebarConstraints that will constrain RebarConstrainedHandle to the provided reference.</p><p>For free form rebar will return an empty list.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="6020571a-fa8f-5f21-3874-f808456a8854.htm">GetCurrentConstraintOnHandle</a></td><td>
   Retrieves the RebarConstraint that acts on the specified RebarConstraintHandle.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode#system-object-gethashcode" target="_blank" rel="noopener noreferrer">GetHashCode</a></td><td>Serves as the default hash function.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="4f92a917-683e-52f7-ad29-de2025af0220.htm">GetPreferredConstraintOnHandle</a></td><td><p>For ShapeDriven: Returns the RebarConstraint that has been set as preferred for the specified RebarConstrainedHandle.</p><p>For FreeForm: Returns the RebarConstraint that acts on the specified RebarConstraintHandle.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.gettype#system-object-gettype" target="_blank" rel="noopener noreferrer">GetType</a></td><td>Gets the <a href="https://learn.microsoft.com/dotnet/api/system.type" target="_blank" rel="noopener noreferrer">Type</a> of the current instance.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="6744e58e-e5ae-78ae-4183-1558827782b4.htm">HasValidRebar</a></td><td>
   Checks whether the Manager's Rebar is still valid.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="4d33c054-d51a-f0a5-15a0-41625ca5e2a4.htm">HighlightHandleConstraintPairInAllViews</a></td><td>
   Highlights the specified RebarConstrainedHandle and RebarConstraint in all views.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="9920f476-fcf4-0aa7-ec87-9c2975aed905.htm">RemovePreferredConstraintFromHandle</a></td><td><p>For ShapeDriven: Clears the user-preferred RebarConstraint from the specified RebarConstrainedHandle.</p><p>For FreeForm: Removes the RebarConstraint that is associated to the specified RebarConstrainedHandle.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="b862c316-d105-8ff4-73aa-57ac354aea94.htm">SetPreferredConstraint</a></td><td>
   Sets the RebarConstraint as preferred constraint for its RebarConstrainedHandle.
</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="4ba8adbf-3098-5682-bf09-6a4cc5e0a203.htm">SetPreferredConstraintForHandle</a></td><td><strong>Obsolete.</strong><br /><p>For ShapeDriven Rebar: Sets the RebarConstraint as preferred constraint target for the specified RebarConstrainedHandle.</p><p>For FreeForm Rebar: Sets the RebarConstraint as the target for the specified RebarConstraintHandle.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="292c7344-279a-43f3-02a3-2db4ca676081.htm">SetPreferredConstraintsToSurfaceForHandles</a></td><td><p>For ShapeDriven Rebar it will set a preferred 'ToSurface' RebarConstraint for each input handle.
   The surface that will be used by the constraint is the current surface that is used to compute the position of the handle.</p><p>This function applies only for shape driven Rebar, and will throw exception for free form rebar.</p></td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.tostring#system-object-tostring" target="_blank" rel="noopener noreferrer">ToString</a></td><td>Returns a string that represents the current object.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDBC')" onkeypress="SectionExpandCollapse_CheckKey('IDBC', event)" tabindex="0"><img id="IDBCToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="IDBCSection" class="collapsibleSection"><p>A RebarConstraintsManager is created by calling Rebar.GetRebarConstraintsManager(),
   and can only be used to query or change constraints on the rebar element that
   created it.</p><p>The constraint manager has different behavior, depending on the type of Rebar that created it:
   Shape Driven or FreeForm </p><p>-----ShapeDriven-----</p><p>If the Rebar is Shape Driven, Revit uses the following logic to choose automatic constraints
   for each handle on a rebar element. First, a search is performed to find all suitable target
   planes, including surfaces of the rebar's host, as well as surfaces on other
   concrete host elements that are attached to the rebar's host. In the case of
   standard style rebar, any host surface occupied by a stirrup will be ignored,
   and instead, the handles on the stirrup itself will be treated as candidates
   to form a constraint.</p><p>Once all the constraint target candidates have been determined, the following
   sequence is used to select a constraint target:
   <ol><li>If the rebar is a straight standard bar, it will search the list of candidates
   for stirrup bends to lock its RebarPlane and Edge handles. If a bend is found within
   tolerance distance, then the bar will be snapped and constrained to that bend.</li><li>The bar will snap and constrain its handle to any host cover or stirrup handle
   that lies within tolerance distance.</li><li>If no candidate is found within tolerance, then the bar will choose nearest
   host surface target, with or without cover, and create an automatic constant distance
   constraint to that surface.</li></ol></p><p>Snapping tolerances are 0.5 * bar diameter for host surface cover constraints and
   0.5 * (bar diameter + stirrup bar diameter) for stirrup handle constraints.</p><p>The RebarConstraintsManager allows the API developer to obtain the constraint
   candidates for each constrained handle on a rebar, and to override the default
   target selection logic by setting a particular constraint as preferred.
   The API developer will be able to choose an automatic constraint, or can get
   constraint candidates to any host in the model or to any Rebar in the model no matter
   what style it is (Standard or Stirrup). There can be set constraints to generic surfaces as well.
   This can be useful in a number of ways. First, it can be used to snap a handle to a
   particular host surface or stirrup rebar handle, or to position a handle at a
   precise distance from a host surface. Second, it can force a rebar handle to
   constrain itself to a particular target surface, even if other targets are closer
   (or will become closer in subsequent updates of the Revit model). For example,
   a bar can be constrained to maintain a constant offset distance from a face of
   an opening in a slab, even if the opening is placed close to the edge of the slab
   and the bar would normally constrain itself to the slab edge. Lastly, the override
   can be used to cancel the default standard bar preference for stirrup bar handle
   planes, and to allow standard bars to be constrained to host cover surfaces, even
   when a stirrup is present.</p><p>----- FreeForm -----</p><p> If the rebar is FreeForm, then it requires input constraints that will be consumed to
   obtain the actual shape of the bar. The calculation method of the constraints passed
   to the rebar is custom made by an API application - <a href="3e845cad-eca0-ccb3-785b-48a32a9f2677.htm">IRebarUpdateServer</a>.</p><p> The RebarConstraintsManager can return all the possible "shape" handles
   and can set constraints created only with one of those handles.
   There are only active constraints on a FreeForm bar, the current and preferred notions
   represent the same thing.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('seeAlso')" onkeypress="SectionExpandCollapse_CheckKey('seeAlso', event)" tabindex="0"><img id="seeAlsoToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="seeAlsoSection" class="collapsibleSection"><h4>Reference</h4><div><a href="d586b341-f687-9d90-e96d-255806b7d4fc.htm">Autodesk.Revit.DB.Structure Namespace</a></div></div></div></div>
        </div></body></html>